# java-movie-precourse
기능을 구현하기 전 README.md 에 구현할 기능 목록을 작성하고, 구현 전략을 함께 정리한다.


## 쉽고 빠르게 영화를 예매할 수 있는 프로그램을 구현한다.

1. 하나의 영화는 주어진 상영 가능 기간에 하루에도 여러 차례 상영될 수 있다.
2. 상영 시간은 영화의 상영 길이와 상영관 운영 시간에 따라 정해진다.
3. 여러 영화를 한 번에 예매할 수도 있다. 이때 서로 시간이 겹치는 상영은 함께 예매할 수 없다.
4. 사용자는 영화와 상영 시간을 고른 뒤 원하는 좌석을 선택할 수 있다.
5. 각 좌석은 행(알파벳)과 열(숫자)로 표시된다. 예를 들어 A1, C3, E4와 같이 나타낸다.
6. 좌석은 등급에 따라 가격이 다르다.
S석은 18,000원
A석은 15,000원
B석은 12,000원
7. 이미 예약된 좌석은 다시 선택할 수 없다.
8. 특정한 조건을 만족하는 예매자는 추가 혜택을 받을 수 있다.
9. 무비데이 조건: 매월 10일, 20일, 30일에 상영되는 영화는 10% 할인된다.
10. 시간 조건: 오전 11시 이전 또는 오후 8시 이후에 시작하는 상영은 2,000원이 할인된다.
11. 두 조건이 동시에 적용될 수 있으며, 무비데이 할인(비율)이 먼저 적용되고, 이어서 시간 조건 할인(정액)이 적용된다.
12. 사용자는 보유한 포인트를 사용할 수 있다. 포인트는 예매 금액에서 직접 차감된다.
13. 포인트를 적용한 뒤 결제 수단에 따른 추가 할인이 적용된다.
신용카드 결제는 5% 할인
현금 결제는 2% 할인

플로우 차트
1. 사용자 입력을 받아 날짜 설정(10, 20 ,30일 할인 10%)
2. 영화 선택 (2개로 가정)
3. 영화 시간 선택(11시 이전, 20시 이후 상영 영화는 2000원 할인),
    3-1. 영화 1의 상영 시간은 8~10, 11~13, 13~15, 17~19, 20~22, 23~01, 02~04, 05~07
    3-2. 영화 2의 상영 시간은 9~11, 12~14, 15~17, 19~21, 22~00, 01~03, 04~05, 07~09
4. 좌석 선택 (S, A, B석)
5. 장바구니 저장 (다른 영화 추가로 저장 후 한 번에 결제 가능)
6. 결제 (포인트 사용 가능)
7. 신용카드 5%할인, 현금 2% 할인

콘솔 입출력은 구현하지 않는다. 입력과 출력보다는 객체 설계와 도메인 로직, 테스트 코드 작성에 집중한다.


## 객체 
- Movie : 영화의 제목, 러닝 타임, 시작 시간을 담는 객체
- SeatGrade : 좌석의 등급을 받는 객체
- SeatNumber : 좌석의 번호, 등급, 가격을 취합하는 객체
- Seat : SeatGrade, SeatNumber 작성 전 작성했던 코드. 입출력 문제 확인 후 SeatGrade, SeatNumber코드 작성함.
- Reservation : 예약의 중복성을 체크하는 객체
- Reservations : 중복 예약이 아닌 경우 예약 개수 증가시키는 객체
- Reservation_no : Seat와 같이 잘못 작성한 코드. 
        // 예약 정보 저장할 리스트 필요
        // 예약 정보를 저장한 리스트에 동일한 예약이 있는지 확인하고 예약 진행
        // 중복된 예약이 없으면 예약 완료 메시지 출력
        // 여러개의 예약을 동시에 가능
        // 예약이 중복인지 아닌지를 확인할 메소드가 필요
        // 예약을 진행하는 메소드가 필요
- ShowTimeChecker : 다른 영화의 시간대가 겹치는지 확인하기 위한 메서드
- 날짜 (무비데이)
- 현금/신용카드

## 메서드 설정
사용자가 결제할 금액을 계산할 메서드
- 날짜가 10, 20, 30일 중 하나인지 확인 후 무비데이 10% 할인 -> 조조/심야인지 확인 후 2000원 할인 -> 포인트가 있는지 확인 후 포인트 차감, 결제 방법을 확인하여 할인

>> 이걸 나눠서 
메서드 1. 무비데이인지 확인하고 할인하는 메서드
메서드 2. 조조/심야인지 확인하고 할인하는 메서드
메서드 3. 사용자가 포인트를 가지고 있는지 확인하고 차감하는 메서드
메서드 4. 사용자의 결제 방식이 신용카드인지 현금인지 확인 후 할인하는 메서드

메서드 1. 날짜를 받아 10, 20, 30 중 하나가 포함되어있다면 movieday로 판별


AI 활용 - 
1. Junit, AssertUser 사용법을 제미나이한테 물어봄.
2. **만들어둔 메서드를 테스트용 코드로 바꾸는데 제미나이를 사용함. (모든 테스트 코드 AI 사용)**
3. Seat를 만들 때 생성한 seat 들의 type을 s, a, b로 설정하는 코드를 작성하는 부분에서 도움을 받음.
4. Seat를 생성할 때 들여쓰기 단계를 줄이기 위해 도움을 받음
5. 작성하고 보니 프로그래밍 요구 사항(입출력 금지, 하나의 함수는 하나의 일만하도록 한다)을 위배하는 것을 알고 해결하기 위해 ai를 사용함
6. Reservation_no를 작성한 후 프로그래밍 요구 사항을 해결하기 위해 ai를 사용함.
7. ShowTimeChecker를 작성하는데 ai를 사용함
8. Reservations를 작성하는데 ai를 사용함
--------> 도메인 로직 설계에서 어려움을 느껴 기존의 입출력 방식의 코드를 작성하였다가, 스스로 해결 방안을 찾지 못해 ai를 통해 코드를 작성함